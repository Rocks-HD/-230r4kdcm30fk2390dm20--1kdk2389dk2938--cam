function number_format(a,b,c,d){a=(a+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+a)?+a:0,f=isFinite(+b)?Math.abs(b):0,g="undefined"==typeof d?",":d,h="undefined"==typeof c?".":c,i="",j=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};return i=(f?j(e,f):""+Math.round(e)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g)),(i[1]||"").length<f&&(i[1]=i[1]||"",i[1]+=new Array(f-i[1].length+1).join("0")),i.join(h)}function str_pad(a,b,c,d){var e,f="",g=function(a,b){for(var c="";c.length<b;)c+=a;return c=c.substr(0,b)};return a+="",c=void 0!==c?c:" ","STR_PAD_LEFT"!=d&&"STR_PAD_RIGHT"!=d&&"STR_PAD_BOTH"!=d&&(d="STR_PAD_RIGHT"),(e=b-a.length)>0&&("STR_PAD_LEFT"==d?a=g(c,e)+a:"STR_PAD_RIGHT"==d?a+=g(c,e):"STR_PAD_BOTH"==d&&(f=g(c,Math.ceil(e/2)),a=f+a+f,a=a.substr(0,b))),a}function str_replace(a,b,c,d){var e=0,f=0,g="",h="",i=0,j=0,k=[].concat(a),l=[].concat(b),m=c,n="[object Array]"===Object.prototype.toString.call(l),o="[object Array]"===Object.prototype.toString.call(m);for(m=[].concat(m),d&&(this.window[d]=0),e=0,i=m.length;e<i;e++)if(""!==m[e])for(f=0,j=k.length;f<j;f++)g=m[e]+"",h=n?void 0!==l[f]?l[f]:"":l[0],m[e]=g.split(k[f]).join(h),d&&m[e]!==g&&(this.window[d]+=(g.length-m[e].length)/k[f].length);return o?m:m[0]}function strstr(a,b,c){var d=0;return a+="",d=a.indexOf(b),d!=-1&&(c?a.substr(0,d):a.slice(d))}function uniqid(a,b){"undefined"==typeof a&&(a="");var c,d=function(a,b){return a=parseInt(a,10).toString(16),b<a.length?a.slice(a.length-b):b>a.length?Array(1+(b-a.length)).join("0")+a:a};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,c=a,c+=d(parseInt((new Date).getTime()/1e3,10),8),c+=d(this.php_js.uniqidSeed,5),b&&(c+=(10*Math.random()).toFixed(8).toString()),c}function ucwords(a){return preposicoes=["da","de","do","das","des","dos","e"],palavras=a.split(" "),result=new Array,i=0,$.each(palavras,function(a,b){result[i++]=0==a||$.inArray(b.toLowerCase(),preposicoes)<0?b.substring(0,1).toUpperCase()+b.substring(1).toLowerCase():b.toLowerCase()}),result.join(" ")}function _initAutocomplete(a){}function _initMask(a){}function _dataAtualVisita(){var a=new Date,b=1==a.getDate().toString().length?"0"+a.getDate():a.getDate(),c=1==a.getMonth().toString().length?"0"+(a.getMonth()+1):a.getMonth()+1,d=a.getFullYear();return d+""+c+b}function initFormulario(a){var b=!1,c=0,d=0,e=$("ie6, .ie7, .ie8").length>=1;$.each($(a+" fieldset"),function(f,g){var h=$(this).attr("id"),i=h.split("_")[0].split("-")[1].replace(/[0-9]/g,""),j=h.split("_").splice(1,h.split("_").length),k=h.split("_")[0].split("-")[1].replace(/[A-Za-z$-]/g,""),l=$(this).attr("data-label"),m="";for(var n in j)"group"===i?$(a+" #"+h).find("div.form-group").eq(n).wrap('<div class="col-sm-'+j[n]+'" />'):"nav"===i&&(b!==!1||e||($(a+" div.form-group:last").prepend('<ul class="nav nav-tabs" style="margin-top: 10px;" />'),$(a+" .nav.nav-tabs").after('<div class="tab-content" />'),b=!0),0===$(a+" #tab"+k).length&&(++d,$(a+" .nav.nav-tabs").append('<li class="'+(1===d?"active":"")+'"><a href="#tab'+k+'" data-toggle="tab">'+l+"</a></li>"),$(a+" .tab-content").append('<div class="tab-pane '+(1===d?"active":"")+'" id="tab'+k+'" />')),m+=$(a+" #"+h).find("div.form-group").eq(n).wrap('<div class="col-sm-'+j[n].replace(/[A-Za-z$-]/g,"")+'" />').parent().wrap("<div />").parent().html(),"f"===j[n].substr(-1)&&($(a+" #tab"+k).append('<div class="row">'+m+"</div>"),m=""),++c===j.length&&(c=0,m="",e||$(this).remove()))}),_initAutocomplete(a),_initMask(a)}function exibirTarjaAjax(a){$("body").prepend('<div class="ajaxCarregando"></div>'),$(".ajaxCarregando").html(a).show()}function ajaxSubmit(a){var b=$("#"+a).attr("action"),c=$("#"+a).serialize();return removerErrosFormulario(),inserirMensagemSistema(a),"undefined"==typeof $("form#"+a).find("input:file").get(0)?submitInfoFormAjax(b,c,a):void submitFormFileAjax(a)}function populateForm(a){var b=Object.keys(a);for(var c in b)$("#"+b[c]).val(a[b[c]])}function removerErrosFormulario(){$("ul[id^='errors-']").remove(),$(".form-group.has-error").removeClass("has-error")}function inserirMensagemSistema(a){"undefined"==typeof $(".msgSystemAlert").get(0)&&$('<div class="msgSystemAlert collapse"><div class="alert"><button type="button" data-toggle="collapse" data-target=".msgSystemAlert" class="close">&times;</button><p></p></div></div>').prependTo("#"+a)}function submitInfoFormAjax(a,b,c){return $.post(a,b,function(a){defaultValidations(c,a)},"json")}function submitFormFileAjax(a){$("#"+a).iframePostForm({post:function(){exibirTarjaAjax("Carregando, aguarde...")},complete:function(b){resp=b.replace('<pre style="word-wrap: break-word; white-space: pre-wrap;">',"").replace("<pre>","").replace("</pre>",""),resp=$.parseJSON(resp),defaultValidations(a,resp),$("#iframe-post-form").remove(),$(".ajaxCarregando").remove()},iframeID:"iframe_"+Math.floor(100*Math.random()+1)+"_"+Math.floor(100*Math.random()+1)}).submit()}function defaultValidations(a,b){inserirMensagemSistema(a),removerErrosFormulario(),"success"===b.type?$(".msgSystemAlert").addClass("in").removeAttr("style").children().removeClass("bg-danger").addClass("bg-success").find("p").html(b.flashMsg):(insertInputError(a,b),$(".msgSystemAlert").addClass("in").removeAttr("style").children().removeClass("bg-success").addClass("bg-danger").find("p").html(b.flashMsg))}function insertInputError(a,b){try{$("#"+a).find("input, textarea, select, radio, checkbox").each(function(){var c=$(this).attr("type"),d=$(this).attr("id"),e=$(this).attr("name"),f="checkbox"===c||"multiple"===$(this).attr("multiple")?e.substr(0,e.length-2):e;$("#"+a+" #"+d).parent().find(".errors").remove(),"undefined"!=typeof b.erros&&($("#"+a+" [name^='"+e+"']").closest(".form-group").last().append(getErrorHtml(b.erros[f],f)),$("ul.errors li").closest(".form-group").addClass("has-error"))})}catch(a){console.log(a)}}function getErrorHtml(a,b){try{var c='<ul id="errors-'+b+'" class="errors">',d="";for(var e in a)e+"-"+b!==d&&(c+="<li>"+a[e]+"</li>"),d=e+"-"+b;return c+="</ul>"}catch(a){console.log("Erro ao gerar erros nos inputs. Erro: "+a)}}function validarInputs(a,b,c){var d=c,e=$("#"+a).serialize();$.post(d,e,function(a){$("#"+b).parent().find(".errors").remove(),"undefined"!=typeof a.erros&&$("#"+b).parent().append(this.getErrorHtml(a.erros[b],b))},"json")}function removeAcento(a){str_acento="áàãâäéèêëíìîïóòõôöúùûüçÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÖÔÚÙÛÜÇ",str_sem_acento="aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC",novaPalavra="";for(var b=0;b<a.length;b++)str_acento.indexOf(a.charAt(b))!=-1?novaPalavra+=str_sem_acento.substr(str_acento.search(a.substr(b,1)),1):novaPalavra+=a.substr(b,1);return novaPalavra}erroAnterior="",resultAjaxSubmit="",$(document).ready(function(){$("form").length>=1&&initFormulario("#context")}),$.ajaxSetup({timeout:0,error:function(a,b,c){console.log("An AJAX error occured: "+b+"\nError: "+c),$(".ajaxCarregando").remove()}}),$(document).ajaxSend(function(){exibirTarjaAjax("Carregando, aguarde...")}).ajaxStop(function(){$(".ajaxCarregando").remove()}),$(document).on("click","#btnEnviar",function(){try{var a=$(this).parents("form").attr("id"),b=$("#"+a).attr("action").split("/")[3],c=this;return $(c).button("loading"),resultAjaxSubmit=ajaxSubmit(a),$.when(resultAjaxSubmit).then(function(d){"undefined"!=typeof d&&("success"===d.type&&"editar"!==b&&$("#"+a+" :input").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected"),$("html, body").animate({scrollTop:100},"slow")),$(c).button("reset")}),!1}catch(a){$(this).button("reset"),console.log("Houve um erro interno na função de envio de formulários #btnEnviar. "+a)}}),!function(a){a.fn.iframePostForm=function(b){var c,d,e,f,g=!0;return b=a.extend({},a.fn.iframePostForm.defaults,b),a("#"+b.iframeID).length||a("body").append('<iframe id="'+b.iframeID+'" name="'+b.iframeID+'" style="display:none" />'),a(this).each(function(){e=a(this),e.attr("target",b.iframeID),e.submit(function(){return g=b.post.apply(this),g===!1?g:void(f=a("#"+b.iframeID).load(function(){c=f.contents().find("body"),d=b.json?a.parseJSON(c.html()):c.html(),b.complete.apply(this,[d]),f.unbind("load"),setTimeout(function(){c.html("")},1)}))})})},a.fn.iframePostForm.defaults={iframeID:"iframe-post-form",json:!1,post:function(){},complete:function(){}}}(jQuery);